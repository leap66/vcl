[TOC]

### 模块划分

1. 基础模块
2. 认证模块
3. 主界面模块
4. 用户信息
5. 本机设置
6. 聊天模块
7. 朋友模块
8. 通用界面

### Application
```
presentation.sku.Application
```
1. 初始化 内存泄漏检测
2. 初始化 基础组件
3. 初始化 日志类组件
4. 初始化 Token
5. 初始化 语音合成组件
6. 初始化 推送服务
7. 初始化 NetWorkClient
8. 初始化 UpdateMgr
9. 初始化 Session

### 基础模块

+ 基础界面
1. 初始化组件
2. 初始化事件监听事件
3. 加载数据
4. 初始化沉浸式状态拦
5. 注册EventBus
6. 认证模块

### 欢迎界面
```
presentation.sku.Application
```
1. 根据物理缓存判断是否进入【引导页界面】
2. 根据Token物理缓存判断是否已登陆

### 引导页界面
```
presentation.sku.Application
```
1. 进入界面，初始化三张引导图，截取聊天、语音控制、设置
2. 点击【立即使用】进入【登录界面】

### 登录界面
```
presentation.sku.Application
```
1. 进入界面，默认显示上次登录手机号
2. 手机号为11位，密码6-16位
3. 密码可切换是否可见，默认不可见
4. 点击【登录】，网络请求成功后进入【主界面】
5. 点击【忘记密码】，进入【修改密码界面】
6. 点击【新用户注册】，进入【手机号效验界面】
7. 点击【QQ登录】，关联QQ并登录
8. 点击【微信登录】，关联微信并登录

### 手机号效验界面
```
presentation.sku.Application
```
1. 输入11为手机号后，激活获取验证码按钮
2. 点击【获取验证码】，网络请求成功后，焦点切换到验证码输入框
3. 点击【下一步】，网络请求成功后，进入【注册界面】

### 注册界面
```
presentation.sku.Application
```
1. 昵称输入1-12位
2. 密码输入6-16位
3. 点击【下一步】，网络请求成功后，调用退出事件

### 修改密码界面
```
presentation.sku.Application
```
1. 密码输入6-16位
2. 验证码输入6位
3. 点击【下一步】，网络请求成功后，调用退出事件

### 修改手机号界面
```
presentation.sku.Application
```
1. 新手机号输入11位后，激活获取验证码按钮
2. 验证码输入6位
3. 点击【下一步】，网络请求成功后，调用退出事件

##主界面模块

### 主界面
```
presentation.sku.Application
```
1. 增加4个部分，记录、通讯录、发现、我的
2. 根据点击切换页面内容

记录
点击【加号】可选择附属操作
点击【搜索】，跳转至【搜索界面】
点击【发起群聊】，跳转至【选择联系人界面】
点击【添加朋友】，跳转至【添加朋友界面】
点击【扫一扫】，跳转至【扫一扫界面】
点击【记录项】，跳转至【聊天界面】
通讯录
点击【增加】，跳转至【添加朋友界面】
点击【搜索】，跳转至【搜索界面】
点击【新的朋友】，跳转至【最近朋友界面】
点击【群聊】，跳转至【群聊界面】
点击【标签】，跳转至【标签界面】
点击【朋友项】，跳转至【朋友资料界面】
发现
点击【朋友圈】，跳转至【朋友圈界面】
点击【扫一扫】，跳转至【扫一扫界面】
点击【摇一摇】，跳转至【摇一摇界面】
点击【搜一搜】，跳转至【搜一搜界面】
我的
点击【用户信息】，跳转至【用户信息界面】
点击【收藏】，跳转至【收藏界面】
点击【相册】，跳转至【相册界面】
点击【设置】，跳转至【设置界面】
用户信息

用户信息
点击【头像】，跳转至【头像界面】
点击【名字】，跳转至【输入设置界面】
点击【我的二维码】，跳转至【我的二维码界面】
点击【更多】，跳转至【更多设置界面】
点击【我的地址】，跳转至【我的地址界面】
头像界面
点击【更多】，可选择附属操作
点击【拍照】，跳转至【拍照界面】
点击【从相机选择】，跳转至【从相机选择界面】
点击【保存图片】，可保存当前图片
点击【取消】，关闭弹框
名字设置界面
输入长度1-12位
点击【确定】，网络请求成功后更新会话消息
我的二维码界面
点击【更多】，可选择附属操作
点击【换个样式】可切换二维码背景色，静默网络保存
点击【保存图片】，可保存当前图片
点击【扫描二维码】，跳转至【扫一扫界面】
点击【重制二维码】，二次确认后网络请求重置二维码
点击【取消】，关闭弹框
用户信息
点击【修改手机号】，跳转至【修改手机号】
点击【性别】，弹出【性别选择框】
点击【地区】，弹出【地址选择框】
点击【个性签名】，跳转至【输入设置界面】
用户信息
点击【新增地址】，跳转至【设置地址界面】
点击【地址信息】，跳转至【设置地址界面】
本机设置

本机设置
消息提醒方式，震动、声音、静默
点击【隐私】，跳转至【隐私设置界面】
点击【通用】，跳转至【通用设置界面】
点击【帮助】，跳转至【帮助界面】
点击【关于】，跳转至【关于界面】
点击【退出登录】，调用退出登录事件
隐私设置界面
加我好友时需要验证
拉我进群时需要验证
点击【添加我的方式】，跳转至【添加我的方式界面】
朋友圈提示选择
通用设置界面
点击【语音设置】，跳转至【语音设置界面】
点击【聊天背景】，跳转至【图片选择界面】
点击【清空聊天记录】，二次确认后网络请求清空聊天记录
添加我的方式界面
手机号、用户名、扫码、验证信息
语音设置界面
音量、声音
帮助界面
点击【使用说明】，跳转至【引导页界面】
点击【帮助】，跳转至【聊天界面】
关于界面
显示版本号、手机型号、用户协议、版权信息、app下载地址
聊天模块

聊天界面
可下拉获取更对聊天记录
可发送语音、文字、图片信息
点击更多可查看详细信息
小幕聊天界面
可下拉获取更对聊天记录
可发送语音、文字、图片信息
点击更多可查看详细信息
可智能获取笑话、新闻、故事等
选择朋友聊天界面
网络查询最近聊天记录并显示
可选择多选模式
点击【朋友项】，二次确认后发送信息
点击【创建新的聊天】，跳转至【选择联系人界面】
选择联系人界面
可多选模式
网络查询通讯录好友
点击【搜索】，可在当前界面网络请求搜索好友或群聊
点击【选择群聊】，跳转至【群聊界面】
点击【朋友项】，即为选中该朋友
点击【完成】，根据type二次确认后发送信息 或 跳转至【聊天界面】
群聊界面
可多选模式
点击【群聊项】，即为选中该群聊
点击【完成】，根据type二次确认后发送信息 或 跳转至【聊天界面】
朋友模块

添加朋友界面
点击【搜索】，跳转至【搜一搜界面】
点击【我的微信号】，可显示我的微信号二维码弹框
点击【雷达加朋友】，跳转至【雷达加朋友界面】
点击【面对面建群】，跳转至【面对面建群界面】
点击【扫一扫】，跳转至【扫一扫界面】
点击【手机联系人】，跳转至【手机联系人界面】
点击【公众号】，跳转至【搜一搜界面】
雷达加朋友界面
显示雷达搜索动画
搜索到信息后，跳转至【朋友资料界面】
面对面建群界面
和身边的朋友输入同样的4个数字，可进入同一个群
手机联系人界面
显示手机联系人
朋友资料界面
点击【头像】，可显示朋友头像弹框
点击【发消息】，跳转至【聊天界面】
点击【更多】，跳转至【朋友资料设置界面】
朋友资料设置界面
点击【设置备注和标签】，跳转至【设置备注和标签界面】
点击【推荐给朋友】，跳转至【选择朋友聊天界面】
可设置为星标朋友，静默网络请求
可设置为不让他看我的朋友圈，静默网络请求
可设置为不看他的朋友圈，静默网络请求
可加入黑名单，静默网络请求
可投诉，跳转至【投诉界面】
可删除该好友，二次确认后网络请求删除
设置备注和标签界面
备注名1-12位
点击【标签】，跳转至【标签界面】
电话号码11位
描述0-100位
备注名1-12位
点击【添加图片】，跳转至【添加图片界面】
投诉界面
选择投诉原因并二次确认后网络请求该投诉
群聊资料界面
网络请求所有群成员信息并显示
可增加并邀请好友加入该群
点击【群聊名称】，跳转至【输入设置界面】
点击【我的本群昵称】，跳转至【输入设置界面】
点击【群二维码】，跳转至【二维码界面】
点击【群公告】，跳转至【群公告界面】
点击【投诉】，跳转至【投诉界面】
点击【清空聊天记录】，二次确认后可清空该群聊天记录
点击【删除并退出】，二次确认后可删除并退出该群
可设置消息免打扰、置顶聊天、保存到通讯录、显示群成员昵称操作
通用界面

扫一扫界面
可识别好友名片、群名片、其它信息
摇一摇界面
可识别一分钟内同时摇一摇的人
搜一搜界面
可搜索好友、群、新闻、天气、笑话等
输入设置界面
可根据type选择可输入内容和限制
点击完成将信息返回值上个界面
选择图片界面
可根据type选择是否显示相机

### 添加其他包装
```
presentation.sku.SkuAddPackageActivity
Sku.SkuAddPackageController
```
1. 进入界面
    - 从globalParam.skuDetail中读取sku
    - 接受参数 intent.getExtra('selectedSku')::Sku
1. 左边显示当前商品的基本商品，若没有显示商品本身
2. 右边显示已选商品的基本商品，若没有显示商品本身
3. 当当前商品和已选商品均没有关联商品时，可以点击切换比例关系，右边变为1个，左边变为输入框；否则禁用切换按钮
2. 点击确定后，调用apinew，成功后更新globalparam.skudetail,回到包装关联页面 